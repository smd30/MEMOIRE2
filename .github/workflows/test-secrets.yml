name: Test Secrets Configuration

on:
  workflow_dispatch:

jobs:
  test-secrets:
    runs-on: ubuntu-latest
    
    steps:
    - name: Test Docker Hub Username
      run: |
        if [ -z "${{ secrets.DOCKERHUB_USERNAME }}" ]; then
          echo "‚ùå DOCKERHUB_USERNAME is not set"
          exit 1
        else
          echo "‚úÖ DOCKERHUB_USERNAME is set"
        fi
        
    - name: Test Docker Hub Token
      run: |
        if [ -z "${{ secrets.DOCKERHUB_TOKEN }}" ]; then
          echo "‚ùå DOCKERHUB_TOKEN is not set"
          exit 1
        else
          echo "‚úÖ DOCKERHUB_TOKEN is set"
        fi
        
    - name: Test SonarCloud Token
      run: |
        if [ -z "${{ secrets.SONAR_TOKEN }}" ]; then
          echo "‚ùå SONAR_TOKEN is not set"
          exit 1
        else
          echo "‚úÖ SONAR_TOKEN is set"
        fi
        
    - name: Test Render Service ID
      run: |
        if [ -z "${{ secrets.RENDER_SERVICE_ID }}" ]; then
          echo "‚ùå RENDER_SERVICE_ID is not set"
          exit 1
        else
          echo "‚úÖ RENDER_SERVICE_ID is set"
        fi
        
    - name: Test Render API Key
      run: |
        if [ -z "${{ secrets.RENDER_API_KEY }}" ]; then
          echo "‚ùå RENDER_API_KEY is not set"
          exit 1
        else
          echo "‚úÖ RENDER_API_KEY is set"
        fi
        
    - name: All secrets configured
      run: |
        echo "üéâ All secrets are properly configured!"
